<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API STORAGE DRIVE</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="shortcut icon" href="../images/logo.png">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="./styles.css">
  <style>
  </style>
</head>

<body>
  <!-- Encabezado -->
  <header class="bg-primary text-white py-2 text-center">

    <div class="encabezado">
      <img class="imglogo" src="/images/Logo.webp" alt="Logo" style="height: 100px;">

      <h1 class="ms-3">API STORAGE DRIVE</h1>

    </div>

   

  </header>

  <main class="main">





    <div class="container">
      <div class="row">
        <!-- Formulario de subida de archivos -->
        <div class="col-md-12 mb-3">
          <div class="" id="dropzone-container">
            <form method="post" enctype="multipart/form-data">
              <div class="">
                <label for="archivo" class="dropzone-label">
                  <div class="dropzone-content">
                    <svg class="dropzone-icon" aria-hidden="true" fill="none" viewBox="0 0 20 16"
                      xmlns="http://www.w3.org/2000/svg">
                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2">
                      </path>
                    </svg>
                    <p class="dropzone-text">Haga clic para cargar o arrastre y suelte</p>
                    <p class="dropzone-subtext">xlsx (MAX. 20MB)</p>
                  </div>
                </label>
                <input type="file" id="archivo" name="archivo" class="hidden" onchange="handleFileChange(event)" />
              </div>


              <div class="grid mt-6">
                <button style="background-color:#03257A;" type="submit">Subir</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div id="card" class="contenedorCards"></div>
    </div>

    <!-- Modal de vista previa -->
    <div id="previewModal"
      style="display:none; position:fixed; z-index:1; left:0; top:0; width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.4);">
      <div
        style="background-color:#fefefe; margin:15% auto; padding:20px; border:1px solid #888; width:80%; position:relative;">
        <span id="closeModal"
          style="color:#aaa; float:right; font-size:28px; font-weight:bold; cursor:pointer;">&times;</span>
        <div id="previewContent" style="margin-top:20px;"></div>
      </div>
    </div>



  </main>

  <!-- Script de frontend -->
  <script src="/frontend.js"></script>
  <script>
    // Función para manejar el evento de arrastrar sobre el contenedor de la zona de suelta
    function handleDragOver(event) {
      event.preventDefault();
      event.stopPropagation();
      // Aquí podrías agregar estilos para resaltar el área de soltar archivos si lo deseas
    }

    // Función para manejar el evento de soltar archivos en el contenedor de la zona de suelta
    function handleDrop(event) {
      event.preventDefault();
      event.stopPropagation();
      const file = event.dataTransfer.files[0];
      handleFile(file);
    }

    // Función para manejar el cambio de archivo seleccionado
    function handleFileChange(event) {
      const file = event.target.files[0];
      handleFile(file);
    }

    // Función para manejar el archivo
    function handleFile(file) {
      // Actualizar el contenido del elemento p con la clase dropzone-text para mostrar el nombre del archivo
      const dropzoneText = document.querySelector('.dropzone-text');
      dropzoneText.textContent = file.name;
      // También puedes hacer otras operaciones con el archivo aquí, como enviarlo a través de AJAX
    }

    // Agregar event listeners para los eventos de arrastre y soltar al contenedor de la zona de suelta
    const dropzoneContainer = document.getElementById('dropzone-container');
    dropzoneContainer.addEventListener('dragover', handleDragOver);
    dropzoneContainer.addEventListener('drop', handleDrop);
  </script>

</body>

</html>
